<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sign up - mmdrza.AI</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1:#0b0f1a; --bg-2:#0f172a;
      --neon:#00eaff; --neon-2:#7a5cff; --accent:#18ffb6;
      --text:#d8e9ff; --muted:#8aa0c5;
    }

    /* ===== Page background (static look; no change on input focus) ===== */
    body{
      min-height:100vh;
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(122,92,255,.18), transparent 60%),
        radial-gradient(900px 500px at 0% 100%, rgba(0,234,255,.18), transparent 60%),
        linear-gradient(180deg, #070b14 0%, #0b0f1a 40%, #0f172a 100%);
      color:var(--text);
      display:grid; place-items:center; overflow-x:hidden;
    }

    /* soft scan shimmer */
    body::before{ content:""; position:fixed; inset:0;
      background:repeating-linear-gradient(to bottom, rgba(255,255,255,0.02) 0 2px, rgba(255,255,255,0.00) 2px 4px);
      mix-blend-mode:overlay; pointer-events:none; animation: scan 12s linear infinite; }
    @keyframes scan{0%{transform:translateY(-10%)}100%{transform:translateY(10%)}}

    .particles{ position:fixed; inset:0; pointer-events:none; overflow:hidden; }
    .particles::before, .particles::after{
      content:""; position:absolute; left:50%; top:50%; width:2px; height:2px; border-radius:50%;
      box-shadow:0 -120px var(--neon), 120px 60px var(--neon-2), -180px -40px var(--accent), 200px -160px var(--neon), -260px 120px var(--neon-2), 280px 180px var(--accent), -320px 40px var(--neon), 360px -100px var(--neon-2), -420px -160px var(--accent), 440px 140px var(--neon);
      filter:drop-shadow(0 0 6px currentColor); animation: drift 28s linear infinite; }
    .particles::after{ animation-duration:36s; opacity:.6; filter:drop-shadow(0 0 10px currentColor) blur(.2px); }
    @keyframes drift{ 0%{ transform: translate(-50%, -50%) rotate(0deg) } 100%{ transform: translate(-50%, -50%) rotate(360deg) } }

    .auth-card{ width:min(92vw, 620px); position:relative;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(123,129,162,.25); border-radius:24px;
      box-shadow:0 10px 40px rgba(0,0,0,.6), 0 0 0 1px rgba(122,92,255,.15) inset, 0 0 40px rgba(0,234,255,.06) inset;
      backdrop-filter: blur(10px) saturate(120%); overflow:hidden; }

    .auth-card::before{ content:""; position:absolute; inset:-1px; border-radius:inherit; padding:1px;
      background: conic-gradient(from 0deg, transparent 10%, rgba(0,234,255,.6) 20%, transparent 30%, transparent 45%, rgba(122,92,255,.6) 55%, transparent 65%, transparent 80%, rgba(24,255,182,.6) 90%, transparent 100%);
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude; animation: spin 10s linear infinite; pointer-events:none; }
    @keyframes spin{ to { transform: rotate(1turn); } }

    .brand{ font-family:'Orbitron', system-ui, sans-serif; letter-spacing:.06em;
      text-shadow:0 0 10px rgba(0,234,255,.65), 0 0 22px rgba(122,92,255,.35); }

    /* ===== Inputs: keep background constant on focus ===== */
    .form-control, .form-select{ background:rgba(3,8,20,.55)!important; color:var(--text); border:1px solid rgba(138,160,197,.25); }
    .form-control::placeholder{ color:transparent; } /* Bootstrap floating-label requirement */
    .form-control:focus, .form-select:focus{
      background:rgba(3,8,20,.55)!important; /* no change */
      border-color: rgba(138,160,197,.25);   /* no neon border */
      box-shadow:none;                       /* no glow */
      color:var(--text);
    }
    /* Let only the floating label animate up (Bootstrap default) */
    .form-floating>.form-control:focus~label, .form-floating>.form-control:not(:placeholder-shown)~label{ opacity:.85; transform:scale(.85) translateY(-.6rem) translateX(.15rem); }

    .btn-neon{ --bs-btn-color:#0b0f1a; --bs-btn-bg:var(--neon); --bs-btn-border-color:var(--neon); --bs-btn-hover-bg:#7af2ff; --bs-btn-hover-border-color:#7af2ff; position:relative; overflow:hidden; }
    .btn-neon::after{ content:""; position:absolute; inset:-2px; border-radius:inherit; box-shadow:0 0 24px rgba(0,234,255,.7),0 0 60px rgba(122,92,255,.5); opacity:.65; filter:blur(6px); pointer-events:none; }

    .neon-divider{ height:1px; background:linear-gradient(90deg, transparent, rgba(0,234,255,.7), rgba(122,92,255,.6), transparent); }
    .hint{ color:var(--muted); font-size:.9rem; }

    footer{ color:var(--muted); font-size:.85rem; text-align:center; margin-top:1rem; }
      /* ===== Mobile & performance tuning ===== */
    @media (max-width: 576px){
      .auth-card{ width:min(96vw, 520px); border-radius:20px; backdrop-filter:none; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03)); box-shadow:0 8px 24px rgba(0,0,0,.5); }
      body::before{ display:none; }
      .particles{ display:none; }
      .btn-lg{ padding-top:.8rem; padding-bottom:.8rem; font-size:1rem; }
    }
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{ animation-duration:0.01ms !important; animation-iteration-count:1 !important; transition-duration:0.01ms !important; }
    }
  </style>
</head>
<body>
  <div class="particles"></div>

  <main class="auth-card my-5 p-4 p-md-5">
    <div class="text-center mb-4">
      <h1 class="brand fw-bold mb-1">mmdrza-AI</h1>
      <p class="text-secondary m-0">Use mmdrza AI for free at your homeworks</p>
    </div>

    <ul class="nav nav-pills justify-content-center gap-2 mb-4" id="authTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup" type="button" role="tab" aria-controls="signup" aria-selected="true"><i class="bi bi-stars me-1"></i>Sign up</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="false"><i class="bi bi-box-arrow-in-right me-1"></i>Log in</button>
      </li>
    </ul>

    <div class="neon-divider mb-4"></div>

    <div class="tab-content" id="authTabsContent">
      <!-- ===== Sign Up ===== -->
      <div class="tab-pane fade show active" id="signup" role="tabpanel" aria-labelledby="signup-tab" tabindex="0">
        <form id="signupForm" class="needs-validation" novalidate>
          <div class="row g-3">
            <div class="col-md-6">
              <div class="form-floating">
                <input type="text" class="form-control" id="firstName" placeholder="First name" required autocomplete="given-name">
                <label for="firstName">First name</label>
                <div class="invalid-feedback">Please enter your first name.</div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-floating">
                <input type="text" class="form-control" id="lastName" placeholder="Last name" required autocomplete="family-name">
                <label for="lastName">Last name</label>
                <div class="invalid-feedback">Please enter your last name.</div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-floating">
                <input type="email" class="form-control" id="email" placeholder="name@example.com" required autocomplete="email">
                <label for="email">Email</label>
                <div class="invalid-feedback">Please provide a valid email.</div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-floating">
                <input type="password" class="form-control" id="password" placeholder="Password" required minlength="8" autocomplete="new-password">
                <label for="password">Password</label>
                <div class="invalid-feedback">Minimum 8 characters required.</div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-floating">
                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm password" required autocomplete="new-password">
                <label for="confirmPassword">Confirm password</label>
                <div class="invalid-feedback">Passwords must match.</div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="terms" required>
                <label class="form-check-label" for="terms">I agree to the terms and privacy policy</label>
                <div class="invalid-feedback">You must agree before submitting.</div>
              </div>
            </div>
            <div class="col-12 d-grid">
              <button class="btn btn-neon btn-lg" type="submit"><i class="bi bi-stars me-2"></i>Sign up</button>
            </div>
          </div>
        </form>
        <div class="text-center mt-4">
          <div class="hint mb-2">Or sign up with</div>
          <button class="btn btn-outline-light me-2"><i class="bi bi-github me-2"></i>GitHub</button>
          <button class="btn btn-outline-light me-2"><i class="bi bi-google me-2"></i>Google</button>
          <button class="btn btn-outline-light"><i class="bi bi-discord me-2"></i>Discord</button>
        </div>
      </div>

      <!-- ===== Log In ===== -->
      <div class="tab-pane fade" id="login" role="tabpanel" aria-labelledby="login-tab" tabindex="0">
        <form id="loginForm" class="needs-validation" novalidate>
          <div class="row g-3">
            <div class="col-12">
              <div class="form-floating">
                <input type="email" class="form-control" id="loginEmail" placeholder="name@example.com" required autocomplete="email">
                <label for="loginEmail">Email</label>
                <div class="invalid-feedback">Please enter a valid email.</div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-floating">
                <input type="password" class="form-control" id="loginPassword" placeholder="Password" required autocomplete="current-password">
                <label for="loginPassword">Password</label>
                <div class="invalid-feedback">Password is required.</div>
              </div>
            </div>
            <div class="col-12 d-flex justify-content-between align-items-center">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rememberMe">
                <label class="form-check-label" for="rememberMe">Remember me</label>
              </div>
              <a href="#" class="link-light link-underline-opacity-0 link-underline-opacity-50-hover">Forgot password?</a>
            </div>
            <div class="col-12 d-grid">
              <button class="btn btn-neon btn-lg" type="submit"><i class="bi bi-box-arrow-in-right me-2"></i>Log in</button>
            </div>
          </div>
        </form>
        <div class="text-center mt-4">
          <div class="hint mb-2">Or continue with</div>
          <button class="btn btn-outline-light me-2"><i class="bi bi-github me-2"></i>GitHub</button>
          <button class="btn btn-outline-light me-2"><i class="bi bi-google me-2"></i>Google</button>
          <button class="btn btn-outline-light"><i class="bi bi-discord me-2"></i>Discord</button>
        </div>
      </div>
    </div>

    <div class="neon-divider mt-4"></div>
    <footer>created by mmdrza - EE/University of Tehran - 2025</footer>
  </main>

  <!-- Toasts -->
  <div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
    <div id="toastOK" class="toast align-items-center text-bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">Action completed successfully ✨</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Strict, robust JS wrapped after DOM is ready
    document.addEventListener('DOMContentLoaded', function(){
      // ===== Toast helper =====
      const toastEl = document.getElementById('toastOK');
      const showToast = (msg, delay=900) => {
        if(!toastEl) return;
        const body = toastEl.querySelector('.toast-body');
        if(body) body.textContent = msg;
        const t = new bootstrap.Toast(toastEl, { delay });
        t.show();
      };

      // ===== Redirect helper =====
      const goDashboard = () => { window.location.href = 'dashboard.html'; };

      // ===== SIGN UP =====
      const signupForm = document.getElementById('signupForm');
      if (signupForm){
        const pass = document.getElementById('password');
        const confirm = document.getElementById('confirmPassword');
        const firstName = document.getElementById('firstName');

        const match = () => {
          if(confirm && pass){
            confirm.setCustomValidity(confirm.value !== pass.value ? 'mismatch' : '');
          }
        };
        if(pass && confirm){
          pass.addEventListener('input', match);
          confirm.addEventListener('input', match);
          pass.addEventListener('change', match);
          confirm.addEventListener('change', match);
        }

        signupForm.addEventListener('submit', function(e){
          match();
          if(!signupForm.checkValidity()){
            e.preventDefault();
            e.stopPropagation();
          } else {
            e.preventDefault();
            try{
              if(firstName && firstName.value.trim()){
                localStorage.setItem('mm_user_name', firstName.value.trim());
              }
            }catch(err){}
            showToast('Registration successful. Welcome ✨', 900);
            setTimeout(goDashboard, 950);
          }
          signupForm.classList.add('was-validated');
        });
      }

      // ===== LOGIN =====
      const loginForm = document.getElementById('loginForm');
      if (loginForm){
        loginForm.addEventListener('submit', function(e){
          if(!loginForm.checkValidity()){
            e.preventDefault();
            e.stopPropagation();
          } else {
            e.preventDefault();
            showToast('Logged in successfully ✨', 900);
            setTimeout(goDashboard, 950);
          }
          loginForm.classList.add('was-validated');
        });
      }
    });
  </script>
</body>
</html>
